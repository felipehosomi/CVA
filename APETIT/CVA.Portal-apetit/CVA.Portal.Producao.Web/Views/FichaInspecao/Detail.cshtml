@model CVA.Portal.Producao.Model.Qualidade.FichaInspecaoModel

@{
    ViewBag.Title = "Resultado Inspeção";
}

@using (Html.BeginForm())
{
    <div class="x_panel">
        <div class="x_content">
            <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <div class="x_title">
                        <h2>Ficha Inspeção - @Model.Code</h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-1">Nr. Doc.</label>
                        @Html.TextBoxFor(m => m.DocNum, htmlAttributes: new { @readonly = "readonly", @class = "col-md-1" })
                        @Html.HiddenFor(m => m.Code)
                        @Html.HiddenFor(m => m.CodEtapa)
                        @Html.HiddenFor(m => m.CodItem)
                        @Html.HiddenFor(m => m.CodModelo)
                        @Html.HiddenFor(m => m.CodPN)
                        @Html.HiddenFor(m => m.CodUsuario)
                        @Html.HiddenFor(m => m.DataDoc)
                        @Html.HiddenFor(m => m.LineNum)
                        <label class="col-md-1">Data Doc.</label>
                        @Html.TextBoxFor(m => m.DataDocStr, htmlAttributes: new { @readonly = "readonly", @class = "col-md-1" })
                        @if (Model.TipoDoc == "RE")
                        {
                            <label class="col-md-1">Nr. NF</label>
                        }
                        else
                        {
                            <label class="col-md-1">Nr. Pedido</label>
                        }
                        @Html.TextBoxFor(m => m.NrNF, htmlAttributes: new { @readonly = "readonly", @class = "col-md-1" })
                        <label class="col-md-1">Tipo Doc.</label>
                        @Html.TextBoxFor(m => m.TipoDoc, htmlAttributes: new { @readonly = "readonly", @class = "col-md-1" })
                        <label class="col-md-1">Ficha</label>
                        @Html.TextBoxFor(m => m.DescModelo, htmlAttributes: new { @readonly = "readonly", @class = "col-md-3" })
                        <br />
                    </div>
                    <div class="form-group">
                        <label class="col-md-1">Fornecedor</label>
                        @Html.TextBoxFor(m => m.PN, htmlAttributes: new { @readonly = "readonly", @class = "col-md-3" })
                        <label class="col-md-1">Item</label>
                        @Html.TextBoxFor(m => m.Item, htmlAttributes: new { @readonly = "readonly", @class = "col-md-3" })
                        <label class="col-md-1">Lote/Série</label>
                        @Html.TextBoxFor(m => m.LoteSerie, htmlAttributes: new { @readonly = "readonly", @class = "col-md-1" })
                        <label class="col-md-1">Etapa</label>
                        @Html.TextBoxFor(m => m.DescEtapa, htmlAttributes: new { @readonly = "readonly", @class = "col-md-1" })
                        <br />
                    </div>
                    <div>
                        <label class="col-md-1">Data Insp.</label>
                        @Html.TextBoxFor(m => m.DataInspStr, htmlAttributes: new { @readonly = "readonly", type = "date", @class = "col-md-3" })
                        <label class="col-md-1">Qtde. Análise</label>
                        @Html.TextBoxFor(m => m.QtdeAnalisada, htmlAttributes: new { @readonly = "readonly", @class = "col-md-1" })
                        <label class="col-md-1">Situacao</label>
                        @Html.DropDownList("Status", null, htmlAttributes: new { disabled = "disabled", @class = "col-md-1" })
                        <label class="col-md-1">Status</label>
                        @Html.DropDownList("StatusLote", null, "", htmlAttributes: new { disabled = "disabled", @class = "col-md-1" })
                        <label class="col-md-1">Colaborador</label>
                        @Html.TextBoxFor(m => m.CodUsuario, htmlAttributes: new { @readonly = "readonly", @class = "col-md-1" })
                    </div>
                    <div class="x_title">
                        <div class="clearfix"></div>
                    </div>
                    <div class="form-group">
                        <table class="table table-striped table-bordered table-control">
                            <tr>
                                <th>ID</th>
                                <th>Especificação</th>
                                <th>Vlr. Nominal</th>
                                <th>Padrão de</th>
                                <th>Padrão até</th>
                                <th>Análise</th>
                                <th>Observação</th>
                                <th>Método</th>
                                <th>Amostragem</th>
                                @*<th>Link</th>*@
                                <th>Máquina</th>
                                <th>Resultado</th>
                            </tr>
                            @if (Model != null && Model.ItemList != null)
                            {
                                for (int i = 0; i < Model.ItemList.Count; i++)
                                {
                                    <tr>
                                        <td>
                                            @Html.HiddenFor(m => Model.ItemList[i].Amostragem)
                                            @Html.HiddenFor(m => Model.ItemList[i].Analise)
                                            @Html.HiddenFor(m => Model.ItemList[i].CodEspec)
                                            @Html.HiddenFor(m => Model.ItemList[i].CodFicha)
                                            @Html.HiddenFor(m => Model.ItemList[i].ID)
                                            @Html.HiddenFor(m => Model.ItemList[i].Metodo)
                                            @Html.HiddenFor(m => Model.ItemList[i].Observacao)
                                            @Html.HiddenFor(m => Model.ItemList[i].PadraoAte)
                                            @Html.HiddenFor(m => Model.ItemList[i].PadraoDe)
                                            @Html.HiddenFor(m => Model.ItemList[i].VlrNominal)
                                            @Model.ItemList[i].ID
                                        </td>
                                        <td>
                                            @Model.ItemList[i].DescEspec
                                        </td>
                                        <td>
                                            @Model.ItemList[i].VlrNominalStr
                                        </td>
                                        <td>
                                            @Model.ItemList[i].PadraoDeStr
                                        </td>
                                        <td>
                                            @Model.ItemList[i].PadraoAteStr
                                        </td>
                                        <td>
                                            @Model.ItemList[i].Analise
                                        </td>
                                        <td>
                                            @Model.ItemList[i].Observacao
                                        </td>
                                        <td>
                                            @Model.ItemList[i].Metodo
                                        </td>
                                        <td>
                                            @Model.ItemList[i].Amostragem
                                        </td>
                                        @*<td>
                                                @Model.ItemList[i].Link
                                            </td>*@
                                        <td>
                                            @Html.DropDownListFor(m => Model.ItemList[i].CodRecurso, Model.ItemList[i].Recursos, "", htmlAttributes: new { disabled = "disabled", required = "required" })
                                        </td>
                                        <td>
                                            @Model.ItemList[i].Resultado
                                        </td>
                                    </tr>
                                }
                            }
                        </table>
                    </div>
                    <div>
                        <a href='@Url.Action("Index", Model.TipoDoc == "RE" ? "InspecaoMP" : "InspecaoOP")' data-toggle="tooltip" title="Voltar" class="btn btn-primary pull-right">
                            <span class="fa fa-arrow-left"></span> Voltar
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
}
